{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Filter","filterInput","handleFilterInputChange","value","onChange","PersonForm","name","number","handleNameChange","handleNumberChange","handleAddPerson","onSubmit","type","Person","person","handleDeletePerson","onClick","id","Persons","persons","nameFilter","filteredPersons","filter","toLowerCase","includes","map","key","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","baseUrl","axios","get","then","response","data","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","error","setError","useEffect","personService","initial","showNotification","setTimeout","showError","event","target","preventDefault","newPerson","duplicated","length","window","confirm","personId","updated","p","catch","created","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.96e84673.chunk.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Filter = ({ filterInput, handleFilterInputChange }) => (\n    <div>\n        Filter shown with:\n        <input\n            value={filterInput}\n            onChange={handleFilterInputChange}\n        />\n    </div>\n);\n\nFilter.propTypes = {\n    filterInput: PropTypes.string.isRequired,\n    handleFilterInputChange: PropTypes.func.isRequired\n  }\n\nexport default Filter;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst PersonForm = ({ name, number, handleNameChange, handleNumberChange, handleAddPerson }) => (\n    <form onSubmit={handleAddPerson}>\n        <div>\n            name:\n          <input\n                value={name}\n                onChange={handleNameChange}\n            />\n        </div>\n        <div>\n            number:\n          <input\n                value={number}\n                onChange={handleNumberChange}\n            />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n);\n\nPersonForm.propTypes = {\n    name: PropTypes.string.isRequired,\n    number: PropTypes.number.isRequired,\n    handleNameChange: PropTypes.string.isRequired,\n    handleNumberChange: PropTypes.func.isRequired,\n    handleAddPerson: PropTypes.string.isRequired\n  }\n\nexport default PersonForm;","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Person = ({ person, handleDeletePerson }) => {\n    return (\n        <div>\n            {person.name}\n            {person.number}\n            <button type=\"button\" onClick={() => handleDeletePerson(person.id, person.name)}> Delete </button>\n        </div>\n    );\n};\n\nPerson.propTypes = {\n    person: PropTypes.objectOf(PropTypes.any).isRequired,\n    handleDeletePerson: PropTypes.func.isRequired\n  }\n\nexport default Person;","import React from 'react';\nimport PropTypes from 'prop-types'\nimport Person from './Person'\n\nconst Persons = ({ persons, nameFilter, handleDeletePerson }) => {\n    const filteredPersons = persons.filter((person) =>\n        person.name.toLowerCase().includes(nameFilter.toLowerCase())\n    );\n    return (\n        <div>\n            {filteredPersons.map(person =>\n                <Person\n                    key={person.id}\n                    person={person}\n                    handleDeletePerson={handleDeletePerson} />\n            )}\n        </div>\n    )\n};\n\nPersons.propTypes = {\n    nameFilter: PropTypes.string.isRequired,\n    persons: PropTypes.arrayOf(PropTypes.object).isRequired,\n    handleDeletePerson: PropTypes.func.isRequired\n  }\n\nexport default Persons;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst Notification = ({ message }) => {\n    const style = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    if (message === null) {\n        return null;\n    }\n\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n\n};\n\nNotification.propTypes = {\n    message: PropTypes.objectOf(PropTypes.string).isRequired\n  }\n\nexport default Notification;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst Error = ({ message }) => {\n    const style = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    if (message === null) {\n        return null;\n    }\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    );\n}\n\nError.propTypes = {\n    message: PropTypes.string.isRequired,\n}\n\nexport default Error;","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = (person) => {\n    const request = axios.post(baseUrl, person);\n    return request.then(response => response.data);\n};\n\nconst update = (id, person) => {\n    const request = axios.put(`${baseUrl}/${id}`, person);\n    return request.then(response => response.data);\n};\n\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`);\n\nexport default {\n    getAll,\n    create,\n    update,\n    remove\n};","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setFilter] = useState('')\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    personService.getAll()\n      .then(initial => {\n        setPersons(initial)\n      })\n  }, [])\n\n  const showNotification = (message) => {\n    setMessage(message);\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n\n  const showError = (error) => {\n    setError(error);\n    setTimeout(() => {\n      setError(null);\n    }, 5000);\n  };\n\n  const handleFilterInputChange = (event) => {\n    setFilter(event.target.value);\n  }\n\n  const handleAddPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const duplicated = persons.filter(\n      (person) => person.name === newName\n    );\n\n    if (duplicated.length > 0) {\n      if (window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      )) {\n        const personId = duplicated[0].id;\n        personService\n          .update(personId, newPerson)\n          .then(updated => {\n            setPersons(persons.map(p => p.id !== updated.id ? p : updated));\n            setNewName('');\n            setNewNumber('');\n            showNotification(` Updated ${newName}`);\n          })\n          .catch(() => {\n            showError(`Error: ${newName} has already been deleted from server`);\n            setPersons(persons.filter((person) => person.id !== personId));\n          });\n      }\n    } else {\n      personService.create(newPerson)\n      .then(created => {\n        setPersons(persons.concat(created))\n        setNewName('');\n        setNewNumber('');\n        showNotification(` Added ${newName}`);\n      })\n      .catch(() => {\n        showError(`Error: The minimum length for Name are 3 characters and the minimum length for number are 8 characters`)\n    });\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleDeletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService.remove(id).then(() => {\n        setPersons(persons.filter(p => p.id !== id))\n      }).catch(() => {\n        showError(`Error: ${name} has already been deleted from server`);\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Error message={error} />\n      <Filter\n        filterInput={nameFilter}\n        handleFilterInputChange={handleFilterInputChange}\n      />\n      <h2>Add a new</h2>\n      <PersonForm\n        name={newName}\n        number={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleAddPerson={handleAddPerson}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        nameFilter={nameFilter}\n        handleDeletePerson={handleDeletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}